CREATE TABLE exam_marks(
    stu_id CHAR (8) NOT NULL,
    cour_code CHAR (10) NOT NULL,
    quiz_1 TINYINT UNSIGNED,
    quiz_2 TINYINT UNSIGNED,
    quiz_3 TINYINT UNSIGNED,
    mid_theory TINYINT UNSIGNED,
    mid_practical TINYINT UNSIGNED,
    end_theory TINYINT UNSIGNED,
    end_practical TINYINT  UNSIGNED,
    assessment TINYINT UNSIGNED,
    grade CHAR (1),
    CHECK (quiz_1 BETWEEN 0 AND 10),
    CHECK (quiz_2 BETWEEN 0 AND 10),
    CHECK (quiz_3 BETWEEN 0 AND 10),
    CHECK (mid_theory BETWEEN 0 AND 100),
    CHECK (mid_practical BETWEEN 0 AND 100),
    CHECK (end_theory BETWEEN 0 AND 100),
    CHECK (end_practical BETWEEN 0 AND 100),
    CHECK (assessment BETWEEN 0 AND 10),
    CHECK (grade IN ('A','B','C','S','F'))
);


ALTER TABLE exam_marks ADD FOREIGN KEY(stu_id) REFERENCES student(stu_id);
ALTER TABLE exam_marks ADD FOREIGN KEY(cour_code) REFERENCES course(cour_code);

ALTER TABLE exam_marks DROP COLUMN grade;



CREATE TABLE admin(
    adm_id CHAR (8) PRIMARY KEY,
    adm_fname VARCHAR (20) NOT NULL,
    adm_lname VARCHAR (20) NOT NULL,
    adm_email VARCHAR (50) NOT NULL,
    adm_dob DATE,
    adm_gender CHAR (1),
    adm_mobile INT (10),
    CHECK (adm_gender IN ('M','F'))
);



ALTER TABLE admin MODIFY adm_mobile CHAR(10);


INSERT INTO admin
(adm_id,adm_fname,adm_lname,adm_email,adm_dob,adm_gender,adm_mobile)
VALUES
('a001','Nimal','Perera','nimalperera@gmail.com','1987-05-28','M','0761526255');


INSERT INTO exam_marks
(stu_id, cour_code, quiz_1, quiz_2, quiz_3, mid_theory, mid_practical, end_theory, end_practical, assessment)
VALUES
('TG1001', 'ICT1212', 6, 9, 10, 35, NULL, 30, NULL, 10),
('TG1001', 'ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 8),
('TG1001', 'ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1001', 'ICT1242', 4, 3, 5, 38, NULL, 32, NULL, 8),
('TG1001', 'ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1001', 'TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1001', 'TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1001', 'ENG1212', NULL, NULL, NULL, 36, NULL, 55, NULL, NULL),

('TG1002','ICT1212', 7, 5, 10, 25, NULL, 35, NULL, 2),
('TG1002','ICT1222', NULL, NULL, NULL, NULL, 15, NULL, 25, 9),
('TG1002','ICT1233', 7, 7, 15, 15, 12, 19, 14, 6),
('TG1002','ICT1242', 4, 4, 5, 37, NULL, 30, NULL, 8),
('TG1002','ICT1253', 5, 7, 7, 14, 13, 20, 16, 4),
('TG1002','TCS1212', 4, 5, 3, 27, NULL, 28, NULL, 5),
('TG1002','TMS1233', 6, 7, 8, 28, NULL, 37, NULL, 9),
('TG1002','ENG1212', NULL, NULL, NULL, 32, NULL, 52, NULL, NULL),

('TG1003','ICT1212', 10, 9, 10, 38, NULL, 35, NULL, 10),
('TG1003','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 5),
('TG1003','ICT1233', 8, 7, 10, 15, 18, 18, 16, 6),
('TG1003','ICT1242', 5, 3, 5, 34, NULL, 32, NULL, 8),
('TG1003','ICT1253', 5, 10, 9, 14, 13, 28, 16, 4),
('TG1003','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1003','TMS1233', 5, 8, 10, 28, NULL, 35, NULL, 9),
('TG1003','ENG1212', NULL, NULL, NULL, 38, NULL, 50, NULL, NULL),

('TG1004','ICT1212', 2, 5, 9, 28, NULL, 32, NULL, 8),
('TG1004','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 7),
('TG1004','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1004','ICT1242', 4, 3, 5, 33, NULL, 32, NULL, 8),
('TG1004','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1004','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1004','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1004','ENG1212', NULL, NULL, NULL, 28, NULL, 54, NULL, NULL),

('TG1005','ICT1212', 4, 9, 8, 23, NULL, 26, NULL, 6),
('TG1005','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 9),
('TG1005','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1005','ICT1242', 4, 3, 5, 38, NULL, 32, NULL, 8),
('TG1005','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1005','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1005','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1005','ENG1212', NULL, NULL, NULL, 23, NULL, 45, NULL, NULL),

('TG1006','ICT1212', 6, 4, 3, 15, NULL, 20, NULL, 8),
('TG1006','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 5),
('TG1006','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1006','ICT1242', 4, 3, 5, 35, NULL, 32, NULL, 8),
('TG1006','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1006','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1006','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1006','ENG1212', NULL, NULL, NULL, 33, NULL, 45, NULL, NULL),

('TG1007','ICT1212', 5, 2, 10, 35, NULL, 27, NULL, 5),
('TG1007','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 6),
('TG1007','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1007','ICT1242', 4, 3, 5, 36, NULL, 37, NULL, 8),
('TG1007','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1007','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1007','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1007','ENG1212', NULL, NULL, NULL, 37, NULL, 54, NULL, NULL),

('TG1008','ICT1212', 6, 9, 4, 35, NULL, 30, NULL, 8),
('TG1008','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 8),
('TG1008','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1008','ICT1242', 4, 3, 5, 36, NULL, 22, NULL, 8),
('TG1008','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1008','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1008','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1008','ENG1212', NULL, NULL, NULL, 29, NULL, 55, NULL, NULL),

('TG1009','ICT1212', 8, 5, 10, 36, NULL, 34, NULL, 7),
('TG1009','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 8),
('TG1009','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1009','ICT1242', 4, 3, 5, 36, NULL, 32, NULL, 8),
('TG1009','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1009','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1009','TMS1233', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG1009','ENG1212', NULL, NULL, NULL, 33, NULL, 46, NULL, NULL),

('TG1010','ICT1212', 8, 5, 10, 36, NULL, 34, NULL, 7),
('TG1010','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 7),
('TG1010','ICT1233', 8, 7, 10, 15, 12, 18, 15, 6),
('TG1010','ICT1242', 4, 3, 5, 36, NULL, 33, NULL, 8),
('TG1010','ICT1253', 5, 7, 9, 14, 13, 20, 16, 4),
('TG1010','TCS1212', 2, 5, 3, 20, NULL, 21, NULL, 5),
('TG1010','TMS1233', 6, 9, 7, 28, NULL, 38, NULL, 7),
('TG1010','ENG1212', NULL, NULL, NULL, 36, NULL, 55, NULL, NULL),

('TG0324','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 9),
('TG0324','ICT1242', 4, 9, 4, 35, NULL, 36, NULL, 8),
('TG0324','TMS1233', 6, 2, 8, 25, NULL, 35, NULL, 9),

('TG0235','TMS1233', 6, 8, 8, 25, NULL, 32, NULL, 9),
('TG0235','ENG1212', NULL, NULL, NULL, 38, NULL, 52, NULL, NULL),

('TG0207','ICT1212', 8, 5, 10, 36, NULL, 34, NULL, 7),
('TG0207','TCS1212', 8, 7, 10, 15, 12, 18, 15, 6),
('TG0207','ENG1212', NULL, NULL, NULL, 36, NULL, 55, NULL, NULL),

('TG0420','ICT1212', 8, 5, 10, 36, NULL, 34, NULL, 7),
('TG0420','TMS1233', 6, 8, 8, 27, NULL, 37, NULL, 9),

('TG0792','ICT1233', 8, 7, 10, 15, 16, 18, 15, 6),

('TG0711','ICT1212', 8, 5, 10, 36, NULL, 34, NULL, 7),
('TG0711','ICT1222', NULL, NULL, NULL, NULL, 25, NULL, 40, 4),

('TG0752','ICT1242', 4, 3, 5, 36, NULL, 32, NULL, 8),
('TG0752','TCS1212', 6, 8, 8, 25, NULL, 35, NULL, 9),
('TG0752','ENG1212', NULL, NULL, NULL, 36, NULL, 55, NULL, NULL),

('TG0639','ICT1253', 5, 7, 9, 14, 16, 20, 16, 4),
('TG0639','TCS1212', NULL, NULL, NULL, 37, NULL, 56, NULL, NULL);